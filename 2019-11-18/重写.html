<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
    /* 
    forEach(function(item,index,all){},that)-> undefined

    map(function(item,index,all){},that)->新数组，长度和旧数组一样

    replace()
    2个参数
    第一个参数可以为正则也可以是字符串

    第二个参数可以是字符串也可以为函数
    
    
    
     */
     let str = '珠峰培训峰';
    let ary =[1,1,2,3,4];

    Array.prototype.myForEach = function(
        callback,that
    ){
        //this->ary
        for(let i=0;i<this.length;i++){
            callback.call(that,this[i],i,this);
        }
    }
    
    Array.prototype.myMap = function(callback,that){
        let ary = [];
        for(let i=0;i<this.length;i++){
            ary.push(callback.call(that,this[i],i,this));
        }
        return ary;
    }
    //如果是字符串，那么就查找一次，如果是正则就按照规则来
    let s ='';
    if(typeof a==='string'){
        let i =str.indexOf(a);
        if(i === -1){
            //如果没有找到要替换的内容，就直接返回原字符串
            return str;
        }else{
            if(typeof b ==='string'){
                //珠峰培训峰
                let aa = str.substring(0,i); //珠
                        //珠 + 峰培 + 训峰
                        let bb = str.substring(i+a.length);//训峰
                        return aa + b + bb;
            }else if(typeof b === 'function'){
                    let aa = str.substring(0,i); //珠
                    //珠 + 峰培 + 训峰
                    let bb = str.substring(i+a.length);//训峰
                    return aa + b(a,i,str) + bb;
                }
            }
        }
    
    
    </script>
</body>
</html>